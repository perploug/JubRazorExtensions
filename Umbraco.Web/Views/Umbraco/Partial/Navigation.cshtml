@inherits RenderViewPage
@using Umbraco.Cms.Web;
@using Site.Extensions;


 @{
     var Homepage = @DynamicModel;
     while (Homepage.ContentType.Alias != "homePage")
     {
         Homepage = Homepage.Parent;
     }
 }

    <h1>@Model.Root().QueryAll().Random().Name</h1>

 <ul>
    @foreach (var item in Model.Root().Children())
    {
        if (item.IsVisible())
        {
            <li @item.IsAncestorOrSelf(Model, "class='active'", "")><a href="@item.NiceUrl()">@item.Name</a></li>
        }
    }
 </ul>
